YUI.add("bewype-button-picker",function(B){var A=function(C){A.superclass.constructor.apply(this,arguments);};A.PICKER_TMPL='<div class="{buttonClass}-host">';A.PICKER_TMPL+="</div>";A.NAME="buttonPicker";A.NS="buttonPicker";A.ATTRS={buttonClass:{value:"yui3-button-picker",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},label:{value:null,writeOnce:true,validator:function(C){return B.Lang.isString(C);}},imageUrl:{value:null,writeOnce:true,validator:function(C){return B.Lang.isString(C);}},width:{value:80,writeOnce:true,validator:function(C){return B.Lang.isNumber(C);}},pickerObj:{value:null,writeOnce:true},pickerClass:{value:null,writeOnce:true,validator:function(C){return B.Lang.isString(C);}},zIndex:{value:4,writeOnce:true,validator:function(C){return B.Lang.isNumber(C);}}};B.extend(A,B.Bewype.Button,{_picker:null,_value:null,initializer:function(C){this._init(C);this._picker=null;this._value=null;},destructor:function(){this.hidePicker();this._destroyBase();},renderUI:function(){this._renderBaseUI();B.after("yui3-button-event|click",B.bind(this.hidePicker,this));},hidePicker:function(D){if(this._picker){var G=this.get("contentBox"),F=this.get("buttonClass"),E=this._picker.get("pickerClass"),C=G.one("."+F+"-host");if(D&&D.target.ancestor("."+E)){}else{this._picker.destroy();C.remove();delete (this._picker);}}if(D){D.stopPropagation();}},showPicker:function(){var G=this.get("contentBox"),E=this.get("buttonClass"),F=this.get("pickerObj"),D=this.get("pickerClass"),C=null;if(G&&F){C=new B.Node.create(B.substitute(A.PICKER_TMPL,{buttonClass:E}));G.append(C);if(D){this._picker=new F({pickerClass:this.get("pickerClass")});}else{this._picker=new F();}this._picker.setValue(this._value);this._picker.render(C);this._picker.on("picker:onChange",B.bind(this._onPickerChange,this));}},_onClick:function(C){var E=this.get("contentBox"),D=this.get("pickerObj");if(E&&D){this.fire("button:onClick");if(this._picker){this.hidePicker();}else{this.showPicker();}}C.stopPropagation();},_onPickerChange:function(C){if(this._picker){this._value=this._picker.getValue();this.hidePicker();this.fire("button:onChange");}},setValue:function(C){this._value=C;},getValue:function(){return this._value;}});B.namespace("Bewype");B.Bewype.ButtonPicker=A;},"@VERSION@",{requires:["bewype-button-base","bewype-picker"]});