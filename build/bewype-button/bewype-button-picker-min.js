YUI.add("bewype-button-picker",function(C){var B="",A=null;B+='<div class="{buttonClass}-host">';B+="</div>";A=function(D){A.superclass.constructor.apply(this,arguments);};A.NAME="buttonPicker";A.NS="buttonPicker";A.ATTRS={buttonClass:{value:"yui3-button-picker",writeOnce:true,validator:function(D){return C.Lang.isString(D);}},label:{value:null,writeOnce:true,validator:function(D){return C.Lang.isString(D);}},imageUrl:{value:null,writeOnce:true,validator:function(D){return C.Lang.isString(D);}},width:{value:80,writeOnce:true,validator:function(D){return C.Lang.isNumber(D);}},pickerObj:{value:null,writeOnce:true},pickerClass:{value:null,writeOnce:true,validator:function(D){return C.Lang.isString(D);}},zIndex:{value:4,writeOnce:true,validator:function(D){return C.Lang.isNumber(D);}}};C.extend(A,C.Bewype.Button,{_picker:null,_value:null,initializer:function(D){this._init(D);this._picker=null;this._value=null;},destructor:function(){this._removePicker();this._destroyBase();},renderUI:function(){this._renderBaseUI();C.after("yui3-button-event|click",C.bind(this._removePicker,this));},_removePicker:function(E){if(this._picker){var H=this.get("contentBox"),G=this.get("buttonClass"),F=this._picker.get("pickerClass"),D=H.one("."+G+"-host");if(E&&E.target.ancestor("."+F)){}else{this._picker.destroy();D.remove();delete (this._picker);}}if(E){E.stopPropagation();}},_onClick:function(E){var I=this.get("contentBox"),G=this.get("buttonClass"),H=this.get("pickerObj"),F=this.get("pickerClass"),D=null;if(I&&H){if(this._picker){this._removePicker();}else{this._value=null;D=new C.Node.create(C.substitute(B,{buttonClass:G}));I.append(D);if(F){this._picker=new H({pickerClass:this.get("pickerClass")});}else{this._picker=new H();}this._picker.render(D);this._picker.on("picker:onChange",C.bind(this._onPickerChange,this));}this.fire("button:onClick");}E.stopPropagation();},_onPickerChange:function(D){if(this._picker){this._value=this._picker.getValue();this._removePicker();this.fire("button:onChange");}},getValue:function(){return this._value;}});C.namespace("Bewype");C.Bewype.ButtonPicker=A;},"@VERSION@",{requires:["bewype-button-base","bewype-picker"]});