YUI.add("resize-base",function(u){var x=u.Lang,C=x.isArray,AV=x.isBoolean,p=x.isNumber,Aa=x.isString,AG=u.Array,AR=x.trim,M=AG.indexOf,V=",",AE=".",S="",l="{handle}",U=" ",Q="active",o="activeHandle",f="activeHandleNode",Z="all",AK="autoHide",AT="border",AP="bottom",AL="className",AO="color",AZ="defMinHeight",Ae="defMinWidth",a="handle",n="handles",q="handlesWrapper",AC="hidden",X="inner",A="left",m="margin",P="node",d="nodeName",v="none",h="offsetHeight",AY="offsetWidth",AA="padding",E="parentNode",N="position",K="relative",AJ="resize",O="resizing",H="right",Af="static",G="style",J="top",j="width",AM="wrap",Ab="wrapper",AH="wrapTypes",i="resize:mouseUp",W="resize:resize",b="resize:align",k="resize:end",t="resize:start",y="t",Ad="tr",z="r",AU="br",AI="b",AW="bl",AF="l",Ag="tl",Ac=function(){return Array.prototype.slice.call(arguments).join(U);},AQ=function(B){return Math.round(parseFloat(B))||0;},AD=function(B,L){return B.getComputedStyle(L);},Ah=function(B){return a+B.toUpperCase();},r=function(B){return(B instanceof u.Node);},s=u.cached(function(B){return B.substring(0,1).toUpperCase()+B.substring(1);}),e=u.cached(function(){var L=[],B=AG(arguments,0,true);AG.each(B,function(R,T){if(T>0){R=s(R);}L.push(R);});return L.join(S);}),c=u.ClassNameManager.getClassName,AS=c(AJ),AN=c(AJ,a),AB=c(AJ,a,Q),F=c(AJ,a,X),g=c(AJ,a,X,l),Ai=c(AJ,a,l),D=c(AJ,AC,n),w=c(AJ,n,Ab),AX=c(AJ,Ab);function I(){I.superclass.constructor.apply(this,arguments);}u.mix(I,{NAME:AJ,ATTRS:{activeHandle:{value:null,validator:function(B){return u.Lang.isString(B)||u.Lang.isNull(B);}},activeHandleNode:{value:null,validator:r},autoHide:{value:false,validator:AV},defMinHeight:{value:15,validator:p},defMinWidth:{value:15,validator:p},handles:{setter:"_setHandles",value:Z},handlesWrapper:{readOnly:true,setter:u.one,valueFn:"_valueHandlesWrapper"},node:{setter:u.one},resizing:{value:false,validator:AV},wrap:{setter:"_setWrap",value:false,validator:AV},wrapTypes:{readOnly:true,value:/^canvas|textarea|input|select|button|img|iframe|table|embed$/i},wrapper:{readOnly:true,valueFn:"_valueWrapper",writeOnce:true}},RULES:{b:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.offsetHeight=T.offsetHeight+L;},l:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.left=T.left+R;Y.offsetWidth=T.offsetWidth-R;},r:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.offsetWidth=T.offsetWidth+R;},t:function(B,R,L){var Y=B.info,T=B.originalInfo;Y.top=T.top+L;Y.offsetHeight=T.offsetHeight-L;},tr:function(B,R,L){this.t.apply(this,arguments);this.r.apply(this,arguments);},bl:function(B,R,L){this.b.apply(this,arguments);this.l.apply(this,arguments);},br:function(B,R,L){this.b.apply(this,arguments);this.r.apply(this,arguments);},tl:function(B,R,L){this.t.apply(this,arguments);this.l.apply(this,arguments);}},capitalize:e});u.Resize=u.extend(I,u.Base,{ALL_HANDLES:[y,Ad,z,AU,AI,AW,AF,Ag],REGEX_CHANGE_HEIGHT:/^(t|tr|b|bl|br|tl)$/i,REGEX_CHANGE_LEFT:/^(tl|l|bl)$/i,REGEX_CHANGE_TOP:/^(tl|t|tr)$/i,REGEX_CHANGE_WIDTH:/^(bl|br|l|r|tl|tr)$/i,HANDLES_WRAP_TEMPLATE:'<div class="'+w+'"></div>',WRAP_TEMPLATE:'<div class="'+AX+'"></div>',HANDLE_TEMPLATE:'<div class="'+Ac(AN,Ai)+'">'+'<div class="'+Ac(F,g)+'">&nbsp;</div>'+"</div>",totalHSurrounding:0,totalVSurrounding:0,nodeSurrounding:null,wrapperSurrounding:null,changeHeightHandles:false,changeLeftHandles:false,changeTopHandles:false,changeWidthHandles:false,delegate:null,info:null,lastInfo:null,originalInfo:null,initializer:function(){this.renderer();},renderUI:function(){var B=this;B._renderHandles();},bindUI:function(){var B=this;B._createEvents();B._bindDD();B._bindHandle();},syncUI:function(){var B=this;this.get(P).addClass(AS);B._setHideHandlesUI(B.get(AK));},destructor:function(){var B=this,R=B.get(P),T=B.get(Ab),L=T.get(E);u.Event.purgeElement(T,true);B.eachHandle(function(Y){B.delegate.dd.destroy();Y.remove(true);});if(B.get(AM)){B._copyStyles(T,R);if(L){L.insertBefore(R,T);}T.remove(true);}R.removeClass(AS);R.removeClass(D);},renderer:function(){this.renderUI();this.bindUI();this.syncUI();},eachHandle:function(L){var B=this;u.each(B.get(n),function(Y,R){var T=B.get(Ah(Y));L.apply(B,[T,Y,R]);});},_bindDD:function(){var B=this;B.delegate=new u.DD.Delegate({bubbleTargets:B,container:B.get(q),dragConfig:{clickPixelThresh:0,clickTimeThresh:0,useShim:true,move:false},nodes:AE+AN,target:false});B.on("drag:drag",B._handleResizeEvent);B.on("drag:dropmiss",B._handleMouseUpEvent);B.on("drag:end",B._handleResizeEndEvent);B.on("drag:start",B._handleResizeStartEvent);},_bindHandle:function(){var B=this,L=B.get(Ab);L.on("mouseenter",u.bind(B._onWrapperMouseEnter,B));L.on("mouseleave",u.bind(B._onWrapperMouseLeave,B));L.delegate("mouseenter",u.bind(B._onHandleMouseEnter,B),AE+AN);L.delegate("mouseleave",u.bind(B._onHandleMouseLeave,B),AE+AN);},_createEvents:function(){var B=this,L=function(R,T){B.publish(R,{defaultFn:T,queuable:false,emitFacade:true,bubbles:true,prefix:AJ});};L(t,this._defResizeStartFn);L(W,this._defResizeFn);L(b,this._defResizeAlignFn);L(k,this._defResizeEndFn);L(i,this._defMouseUpFn);},_renderHandles:function(){var B=this,R=B.get(Ab),L=B.get(q);B.eachHandle(function(T){L.append(T);});R.append(L);},_buildHandle:function(L){var B=this;return u.Node.create(u.substitute(B.HANDLE_TEMPLATE,{handle:L}));},_calcResize:function(){var B=this,T=B.handle,Aj=B.info,Y=B.originalInfo,R=Aj.actXY[0]-Y.actXY[0],L=Aj.actXY[1]-Y.actXY[1];if(T&&u.Resize.RULES[T]){u.Resize.RULES[T](B,R,L);}else{}},_checkSize:function(Aj,L){var B=this,Y=B.info,T=B.originalInfo,R=(Aj==h)?J:A;Y[Aj]=L;if(((R==A)&&B.changeLeftHandles)||((R==J)&&B.changeTopHandles)){Y[R]=T[R]+T[Aj]-L;}},_copyStyles:function(R,Y){var B=R.getStyle(N).toLowerCase(),T=this._getBoxSurroundingInfo(R),L;if(B==Af){B=K;}L={position:B,left:AD(R,A),top:AD(R,J)};u.mix(L,T.margin);u.mix(L,T.border);Y.setStyles(L);R.setStyles({border:0,margin:0});Y.sizeTo(R.get(AY)+T.totalHBorder,R.get(h)+T.totalVBorder);},_extractHandleName:u.cached(function(R){var L=R.get(AL),B=L.match(new RegExp(c(AJ,a,"(\\w{1,2})\\b")));
return B?B[1]:null;}),_getInfo:function(Y,B){var Aj=[0,0],Al=B.dragEvent.target,Ak=Y.getXY(),T=Ak[0],R=Ak[1],L=Y.get(h),Am=Y.get(AY);if(B){Aj=(Al.actXY.length?Al.actXY:Al.lastXY);}return{actXY:Aj,bottom:(R+L),left:T,offsetHeight:L,offsetWidth:Am,right:(T+Am),top:R};},_getBoxSurroundingInfo:function(B){var L={padding:{},margin:{},border:{}};if(r(B)){u.each([J,H,AP,A],function(Aj){var T=e(AA,Aj),Y=e(m,Aj),R=e(AT,Aj,j),Ak=e(AT,Aj,AO),Al=e(AT,Aj,G);L.border[Ak]=AD(B,Ak);L.border[Al]=AD(B,Al);L.border[R]=AD(B,R);L.margin[Y]=AD(B,Y);L.padding[T]=AD(B,T);});}L.totalHBorder=(AQ(L.border.borderLeftWidth)+AQ(L.border.borderRightWidth));L.totalHPadding=(AQ(L.padding.paddingLeft)+AQ(L.padding.paddingRight));L.totalVBorder=(AQ(L.border.borderBottomWidth)+AQ(L.border.borderTopWidth));L.totalVPadding=(AQ(L.padding.paddingBottom)+AQ(L.padding.paddingTop));return L;},_syncUI:function(){var B=this,T=B.info,R=B.wrapperSurrounding,Y=B.get(Ab),L=B.get(P);Y.sizeTo(T.offsetWidth,T.offsetHeight);if(B.changeLeftHandles||B.changeTopHandles){Y.setXY([T.left,T.top]);}if(!Y.compareTo(L)){L.sizeTo(T.offsetWidth-R.totalHBorder,T.offsetHeight-R.totalVBorder);}if(u.UA.webkit){L.setStyle(AJ,v);}},_updateChangeHandleInfo:function(L){var B=this;B.changeHeightHandles=B.REGEX_CHANGE_HEIGHT.test(L);B.changeLeftHandles=B.REGEX_CHANGE_LEFT.test(L);B.changeTopHandles=B.REGEX_CHANGE_TOP.test(L);B.changeWidthHandles=B.REGEX_CHANGE_WIDTH.test(L);},_updateInfo:function(L){var B=this;B.info=B._getInfo(B.get(Ab),L);},_updateSurroundingInfo:function(){var B=this,T=B.get(P),Y=B.get(Ab),L=B._getBoxSurroundingInfo(T),R=B._getBoxSurroundingInfo(Y);B.nodeSurrounding=L;B.wrapperSurrounding=R;B.totalVSurrounding=(L.totalVPadding+R.totalVBorder);B.totalHSurrounding=(L.totalHPadding+R.totalHBorder);},_setActiveHandlesUI:function(R){var B=this,L=B.get(f);if(L){if(R){B.eachHandle(function(T){T.removeClass(AB);});L.addClass(AB);}else{L.removeClass(AB);}}},_setHandles:function(R){var B=this,L=[];if(C(R)){L=R;}else{if(Aa(R)){if(R.toLowerCase()==Z){L=B.ALL_HANDLES;}else{u.each(R.split(V),function(Y,T){var Aj=AR(Y);if(M(B.ALL_HANDLES,Aj)>-1){L.push(Aj);}});}}}return L;},_setHideHandlesUI:function(L){var B=this,R=B.get(Ab);if(!B.get(O)){if(L){R.addClass(D);}else{R.removeClass(D);}}},_setWrap:function(T){var B=this,R=B.get(P),Y=R.get(d),L=B.get(AH);if(L.test(Y)){T=true;}return T;},_defMouseUpFn:function(L){var B=this;B.set(O,false);},_defResizeFn:function(L){var B=this;B._resize(L);},_resize:function(L){var B=this;B._handleResizeAlignEvent(L.dragEvent);B._syncUI();},_defResizeAlignFn:function(L){var B=this;B._resizeAlign(L);},_resizeAlign:function(R){var B=this,T,L,Y;B.lastInfo=B.info;B._updateInfo(R);T=B.info;B._calcResize();if(!B.con){L=(B.get(AZ)+B.totalVSurrounding);Y=(B.get(Ae)+B.totalHSurrounding);if(T.offsetHeight<=L){B._checkSize(h,L);}if(T.offsetWidth<=Y){B._checkSize(AY,Y);}}},_defResizeEndFn:function(L){var B=this;B._resizeEnd(L);},_resizeEnd:function(R){var B=this,L=R.dragEvent.target;L.actXY=[];B._syncUI();B._setActiveHandlesUI(false);B.set(o,null);B.set(f,null);B.handle=null;},_defResizeStartFn:function(L){var B=this;B._resizeStart(L);},_resizeStart:function(L){var B=this,R=B.get(Ab);B.handle=B.get(o);B.set(O,true);B._updateSurroundingInfo();B.originalInfo=B._getInfo(R,L);B._updateInfo(L);},_handleMouseUpEvent:function(B){this.fire(i,{dragEvent:B,info:this.info});},_handleResizeEvent:function(B){this.fire(W,{dragEvent:B,info:this.info});},_handleResizeAlignEvent:function(B){this.fire(b,{dragEvent:B,info:this.info});},_handleResizeEndEvent:function(B){this.fire(k,{dragEvent:B,info:this.info});},_handleResizeStartEvent:function(B){if(!this.get(o)){this._setHandleFromNode(B.target.get("node"));}this.fire(t,{dragEvent:B,info:this.info});},_onWrapperMouseEnter:function(L){var B=this;if(B.get(AK)){B._setHideHandlesUI(false);}},_onWrapperMouseLeave:function(L){var B=this;if(B.get(AK)){B._setHideHandlesUI(true);}},_setHandleFromNode:function(L){var B=this,R=B._extractHandleName(L);if(!B.get(O)){B.set(o,R);B.set(f,L);B._setActiveHandlesUI(true);B._updateChangeHandleInfo(R);}},_onHandleMouseEnter:function(B){this._setHandleFromNode(B.currentTarget);},_onHandleMouseLeave:function(L){var B=this;if(!B.get(O)){B._setActiveHandlesUI(false);}},_valueHandlesWrapper:function(){return u.Node.create(this.HANDLES_WRAP_TEMPLATE);},_valueWrapper:function(){var B=this,R=B.get(P),L=R.get(E),T=R;if(B.get(AM)){T=u.Node.create(B.WRAP_TEMPLATE);if(L){L.insertBefore(T,R);}T.append(R);B._copyStyles(R,T);R.setStyles({position:Af,left:0,top:0});}return T;}});u.each(u.Resize.prototype.ALL_HANDLES,function(L,B){u.Resize.ATTRS[Ah(L)]={setter:function(){return this._buildHandle(L);},value:null,writeOnce:true};});},"@VERSION@",{requires:["base","widget","substitute","event","oop","dd-drag","dd-delegate","dd-drop"],skinnable:true});YUI.add("resize-proxy",function(C){var N="activeHandleNode",I="cursor",G="dragCursor",L="host",K="parentNode",F="proxy",D="proxyNode",B="resize",A="resize-proxy",J="wrapper",E=C.ClassNameManager.getClassName,M=E(B,F);function H(){H.superclass.constructor.apply(this,arguments);}C.mix(H,{NAME:A,NS:F,ATTRS:{proxyNode:{setter:C.one,valueFn:function(){return C.Node.create(this.PROXY_TEMPLATE);}}}});C.extend(H,C.Plugin.Base,{PROXY_TEMPLATE:'<div class="'+M+'"></div>',initializer:function(){var O=this;O.afterHostEvent("resize:start",O._afterResizeStart);O.beforeHostMethod("_resize",O._beforeHostResize);O.afterHostMethod("_resizeEnd",O._afterHostResizeEnd);},destructor:function(){var O=this;O.get(D).remove(true);},_afterHostResizeEnd:function(Q){var O=this,P=Q.dragEvent.target;P.actXY=[];O._syncProxyUI();O.get(D).hide();},_afterResizeStart:function(P){var O=this;O._renderProxy();},_beforeHostResize:function(Q){var O=this,P=this.get(L);P._handleResizeAlignEvent(Q.dragEvent);O._syncProxyUI();return new C.Do.Prevent();},_renderProxy:function(){var O=this,Q=this.get(L),P=O.get(D);if(!P.inDoc()){Q.get(J).get(K).append(P.hide());}},_syncProxyUI:function(){var O=this,Q=this.get(L),S=Q.info,R=Q.get(N),P=O.get(D),T=R.getStyle(I);
P.show().setStyle(I,T);Q.delegate.dd.set(G,T);P.sizeTo(S.offsetWidth,S.offsetHeight);P.setXY([S.left,S.top]);}});C.namespace("Plugin");C.Plugin.ResizeProxy=H;},"@VERSION@",{requires:["resize-base","plugin"],skinnable:false});YUI.add("resize-constrain",function(A){var k=A.Lang,S=k.isBoolean,j=k.isNumber,G=k.isString,Q=A.Resize.capitalize,E=function(Y){return(Y instanceof A.Node);},f=function(Y){return parseFloat(Y)||0;},B="borderBottomWidth",Z="borderLeftWidth",b="borderRightWidth",F="borderTopWidth",d="border",R="bottom",T="con",J="constrain",N="host",O="left",M="maxHeight",H="maxWidth",C="minHeight",g="minWidth",i="node",X="offsetHeight",a="offsetWidth",c="preserveRatio",P="region",e="resizeConstrained",h="right",K="tickX",I="tickY",U="top",D="width",L="view",W="viewportRegion";function V(){V.superclass.constructor.apply(this,arguments);}A.mix(V,{NAME:e,NS:T,ATTRS:{constrain:{setter:function(Y){if(Y&&(E(Y)||G(Y)||Y.nodeType)){Y=A.one(Y);}return Y;}},minHeight:{value:15,validator:j},minWidth:{value:15,validator:j},maxHeight:{value:Infinity,validator:j},maxWidth:{value:Infinity,validator:j},preserveRatio:{value:false,validator:S},tickX:{value:false},tickY:{value:false}}});A.extend(V,A.Plugin.Base,{constrainSurrounding:null,initializer:function(){var Y=this,l=Y.get(N);l.delegate.dd.plug(A.Plugin.DDConstrained,{tickX:Y.get(K),tickY:Y.get(I)});l.after("resize:align",A.bind(Y._handleResizeAlignEvent,Y));l.on("resize:start",A.bind(Y._handleResizeStartEvent,Y));},_checkConstrain:function(m,v,n){var s=this,r,o,p,u,t=s.get(N),Y=t.info,l=s.constrainSurrounding.border,q=s._getConstrainRegion();if(q){r=Y[m]+Y[n];o=q[v]-f(l[Q(d,v,D)]);if(r>=o){Y[n]-=(r-o);}p=Y[m];u=q[m]+f(l[Q(d,m,D)]);if(p<=u){Y[m]+=(u-p);Y[n]-=(u-p);}}},_checkHeight:function(){var Y=this,m=Y.get(N),o=m.info,l=(Y.get(M)+m.totalVSurrounding),n=(Y.get(C)+m.totalVSurrounding);Y._checkConstrain(U,R,X);if(o.offsetHeight>l){m._checkSize(X,l);}if(o.offsetHeight<n){m._checkSize(X,n);}},_checkRatio:function(){var y=this,r=y.get(N),x=r.info,n=r.originalInfo,q=n.offsetWidth,z=n.offsetHeight,p=n.top,AA=n.left,t=n.bottom,w=n.right,m=function(){return(x.offsetWidth/q);},o=function(){return(x.offsetHeight/z);},s=r.changeHeightHandles,Y,AB,u,v,l,AC;if(y.get(J)&&r.changeHeightHandles&&r.changeWidthHandles){u=y._getConstrainRegion();AB=y.constrainSurrounding.border;Y=(u.bottom-f(AB[B]))-t;v=AA-(u.left+f(AB[Z]));l=(u.right-f(AB[b]))-w;AC=p-(u.top+f(AB[F]));if(r.changeLeftHandles&&r.changeTopHandles){s=(AC<v);}else{if(r.changeLeftHandles){s=(Y<v);}else{if(r.changeTopHandles){s=(AC<l);}else{s=(Y<l);}}}}if(s){x.offsetWidth=q*o();y._checkWidth();x.offsetHeight=z*m();}else{x.offsetHeight=z*m();y._checkHeight();x.offsetWidth=q*o();}if(r.changeTopHandles){x.top=p+(z-x.offsetHeight);}if(r.changeLeftHandles){x.left=AA+(q-x.offsetWidth);}A.each(x,function(AE,AD){if(j(AE)){x[AD]=Math.round(AE);}});},_checkRegion:function(){var Y=this,l=Y.get(N),m=Y._getConstrainRegion();return A.DOM.inRegion(null,m,true,l.info);},_checkWidth:function(){var Y=this,n=Y.get(N),o=n.info,m=(Y.get(H)+n.totalHSurrounding),l=(Y.get(g)+n.totalHSurrounding);Y._checkConstrain(O,h,a);if(o.offsetWidth<l){n._checkSize(a,l);}if(o.offsetWidth>m){n._checkSize(a,m);}},_getConstrainRegion:function(){var Y=this,m=Y.get(N),l=m.get(i),o=Y.get(J),n=null;if(o){if(o==L){n=l.get(W);}else{if(E(o)){n=o.get(P);}else{n=o;}}}return n;},_handleResizeAlignEvent:function(m){var Y=this,l=Y.get(N);Y._checkHeight();Y._checkWidth();if(Y.get(c)){Y._checkRatio();}if(Y.get(J)&&!Y._checkRegion()){l.info=l.lastInfo;}},_handleResizeStartEvent:function(m){var Y=this,n=Y.get(J),l=Y.get(N);Y.constrainSurrounding=l._getBoxSurroundingInfo(n);}});A.namespace("Plugin");A.Plugin.ResizeConstrained=V;},"@VERSION@",{requires:["resize-base","plugin"],skinnable:false});YUI.add("resize",function(A){},"@VERSION@",{use:["resize-base","resize-proxy","resize-constrain"]});