YUI.add("frame",function(b){var a=function(){a.superclass.constructor.apply(this,arguments);};b.extend(a,b.Base,{_ready:null,_rendered:null,_iframe:null,_instance:null,_create:function(c){var i,h,e,g;this._iframe=b.Node.create(a.HTML);this._iframe.setStyle("visibility","hidden");this._iframe.set("src",this.get("src"));this.get("container").append(this._iframe);this._iframe.set("height","99%");var d="",f=((this.get("extracss"))?'<style id="extra_css">'+this.get("extracss")+"</style>":"");d=b.substitute(a.PAGE_HTML,{DIR:this.get("dir"),LANG:this.get("lang"),TITLE:this.get("title"),META:a.META,LINKED_CSS:this.get("linkedcss"),CONTENT:this.get("content"),BASE_HREF:this.get("basehref"),DEFAULT_CSS:a.DEFAULT_CSS,EXTRA_CSS:f});if(b.config.doc.compatMode!="BackCompat"){d=a.DOC_TYPE+"\n"+d;}else{}e=this._resolveWinDoc();e.doc.open();e.doc.write(d);e.doc.close();if(this.get("designMode")){e.doc.designMode="on";}if(!e.doc.documentElement){var j=b.later(1,this,function(){if(e.doc&&e.doc.documentElement){c(e);j.cancel();}},null,true);}else{c(e);}},_resolveWinDoc:function(e){var d=(e)?e:{};d.win=b.Node.getDOMNode(this._iframe.get("contentWindow"));d.doc=b.Node.getDOMNode(this._iframe.get("contentWindow.document"));if(!d.doc){d.doc=b.config.doc;}if(!d.win){d.win=b.config.win;}return d;},_onDomEvent:function(f){var d,c;f.frameX=f.frameY=0;if(f.pageX>0||f.pageY>0){if(f.type.substring(0,3)!=="key"){c=this._instance.one("win");d=this._iframe.getXY();f.frameX=d[0]+f.pageX-c.get("scrollLeft");f.frameY=d[1]+f.pageY-c.get("scrollTop");}}f.frameTarget=f.target;f.frameCurrentTarget=f.currentTarget;f.frameEvent=f;this.fire("dom:"+f.type,f);},initializer:function(){this.publish("ready",{emitFacade:true,defaultFn:this._defReadyFn});},destructor:function(){var c=this.getInstance();c.one("doc").detachAll();c=null;this._iframe.remove();},_DOMPaste:function(g){var d=this.getInstance(),c="",f=d.config.win;if(g._event.originalTarget){c=g._event.originalTarget;}if(g._event.clipboardData){c=g._event.clipboardData.getData("Text");}if(f.clipboardData){c=f.clipboardData.getData("Text");if(c===""){if(!f.clipboardData.setData("Text",c)){c=null;}}}g.frameTarget=g.target;g.frameCurrentTarget=g.currentTarget;g.frameEvent=g;if(c){g.clipboardData={data:c,getData:function(){return c;}};}else{g.clipboardData=null;}this.fire("dom:paste",g);},_defReadyFn:function(){var e=this.getInstance(),c=b.bind(this._onDomEvent,this),d=((b.UA.ie)?b.throttle(c,200):c);e.Node.DOM_EVENTS.activate=1;e.Node.DOM_EVENTS.beforedeactivate=1;e.Node.DOM_EVENTS.focusin=1;e.Node.DOM_EVENTS.deactivate=1;e.Node.DOM_EVENTS.focusout=1;b.each(a.DOM_EVENTS,function(g,f){if(g===1){if(f!=="focus"&&f!=="blur"&&f!=="paste"){if(f.substring(0,3)==="key"){if(f==="keydown"){e.on(f,c,e.config.doc);}else{e.on(f,d,e.config.doc);}}else{e.on(f,c,e.config.doc);}}}},this);e.Node.DOM_EVENTS.paste=1;e.on("paste",b.bind(this._DOMPaste,this),e.one("body"));e.on("focus",c,e.config.win);e.on("blur",c,e.config.win);e._use=e.use;e.use=b.bind(this.use,this);this._iframe.setStyles({visibility:"inherit"});e.one("body").setStyle("display","block");if(b.UA.ie){this._fixIECursors();}},_fixIECursors:function(){var f=this.getInstance(),d=f.all("table"),e=f.all("br"),c;if(d.size()&&e.size()){c=d.item(0).get("sourceIndex");e.each(function(j){var h=j.get("parentNode"),i=h.get("children"),g=h.all(">br");if(h.test("div")){if(i.size()>2){j.replace(f.Node.create("<wbr>"));}else{if(j.get("sourceIndex")>c){if(g.size()){j.replace(f.Node.create("<wbr>"));}}else{if(g.size()>1){j.replace(f.Node.create("<wbr>"));}}}}});}},_onContentReady:function(f){if(!this._ready){this._ready=true;var d=this.getInstance(),c=b.clone(this.get("use"));this.fire("contentready");if(f){d.config.doc=b.Node.getDOMNode(f.target);}c.push(b.bind(function(){if(d.Selection){d.Selection.DEFAULT_BLOCK_TAG=this.get("defaultblock");}this.fire("ready");},this));d.use.apply(d,c);d.one("doc").get("documentElement").addClass("yui-js-enabled");}},_resolveBaseHref:function(c){if(!c||c===""){c=b.config.doc.location.href;if(c.indexOf("?")!==-1){c=c.substring(0,c.indexOf("?"));}c=c.substring(0,c.lastIndexOf("/"))+"/";}return c;},_getHTML:function(c){if(this._ready){var d=this.getInstance();c=d.one("body").get("innerHTML");}return c;},_setHTML:function(c){if(this._ready){var d=this.getInstance();d.one("body").set("innerHTML",c);}else{this.on("contentready",b.bind(function(f,h){var g=this.getInstance();g.one("body").set("innerHTML",f);},this,c));}return c;},_getLinkedCSS:function(c){if(!b.Lang.isArray(c)){c=[c];}var d="";if(!this._ready){b.each(c,function(e){if(e!==""){d+='<link rel="stylesheet" href="'+e+'" type="text/css">';}});}else{d=c;}return d;},_setLinkedCSS:function(c){if(this._ready){var d=this.getInstance();d.Get.css(c);}return c;},_setExtraCSS:function(c){if(this._ready){var e=this.getInstance(),d=e.get("#extra_css");d.remove();e.one("head").append('<style id="extra_css">'+c+"</style>");}return c;},_instanceLoaded:function(d){this._instance=d;this._onContentReady();var e=this._instance.config.doc;if(this.get("designMode")){if(!b.UA.ie){try{e.execCommand("styleWithCSS",false,false);e.execCommand("insertbronreturn",false,false);}catch(c){}}}},use:function(){var e=this.getInstance(),d=b.Array(arguments),c=false;if(b.Lang.isFunction(d[d.length-1])){c=d.pop();}if(c){d.push(function(){c.apply(e,arguments);});}e._use.apply(e,d);},delegate:function(e,d,c,g){var f=this.getInstance();if(!f){return false;}if(!g){g=c;c="body";}return f.delegate(e,d,c,g);},getInstance:function(){return this._instance;},render:function(c){if(this._rendered){return this;}this._rendered=true;if(c){this.set("container",c);}this._create(b.bind(function(g){var i,j,d=b.bind(function(k){this._instanceLoaded(k);},this),f=b.clone(this.get("use")),e={debug:false,win:g.win,doc:g.doc},h=b.bind(function(){e=this._resolveWinDoc(e);i=YUI(e);try{i.use("node-base",d);if(j){clearInterval(j);}}catch(k){j=setInterval(function(){h();},350);}},this);f.push(h);b.use.apply(b,f);},this));return this;
},_handleFocus:function(){var e=this.getInstance(),d=new e.Selection();if(d.anchorNode){var g=d.anchorNode,f=g.get("childNodes");if(f.size()==1){if(f.item(0).test("br")){d.selectNode(g,true,false);}}}},focus:function(c){if(b.UA.ie){try{b.one("win").focus();this.getInstance().one("win").focus();}catch(e){}if(c===true){this._handleFocus();}if(b.Lang.isFunction(c)){c();}}else{try{b.one("win").focus();b.later(100,this,function(){this.getInstance().one("win").focus();if(c===true){this._handleFocus();}if(b.Lang.isFunction(c)){c();}});}catch(d){}}return this;},show:function(){this._iframe.setStyles({position:"static",left:""});if(b.UA.gecko){try{this._instance.config.doc.designMode="on";}catch(c){}this.focus();}return this;},hide:function(){this._iframe.setStyles({position:"absolute",left:"-999999px"});return this;}},{DOM_EVENTS:{dblclick:1,click:1,paste:1,mouseup:1,mousedown:1,keyup:1,keydown:1,keypress:1,activate:1,deactivate:1,beforedeactivate:1,focusin:1,focusout:1},DEFAULT_CSS:"body { background-color: #fff; font: 13px/1.22 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small; } a, a:visited, a:hover { color: blue !important; text-decoration: underline !important; cursor: text !important; } img { cursor: pointer !important; border: none; }",HTML:'<iframe border="0" frameBorder="0" marginWidth="0" marginHeight="0" leftMargin="0" topMargin="0" allowTransparency="true" width="100%" height="99%"></iframe>',PAGE_HTML:'<html dir="{DIR}" lang="{LANG}"><head><title>{TITLE}</title>{META}<base href="{BASE_HREF}"/>{LINKED_CSS}<style id="editor_css">{DEFAULT_CSS}</style>{EXTRA_CSS}</head><body>{CONTENT}</body></html>',DOC_TYPE:'<!DOCTYPE HTML PUBLIC "-/'+"/W3C/"+"/DTD HTML 4.01/"+'/EN" "http:/'+'/www.w3.org/TR/html4/strict.dtd">',META:'<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>',NAME:"frame",ATTRS:{title:{value:"Blank Page"},dir:{value:"ltr"},lang:{value:"en-US"},src:{value:"javascript"+((b.UA.ie)?":false":":")+";"},designMode:{writeOnce:true,value:false},content:{value:"<br>",setter:"_setHTML",getter:"_getHTML"},basehref:{value:false,getter:"_resolveBaseHref"},use:{writeOnce:true,value:["substitute","node","node-style","selector-css3"]},container:{value:"body",setter:function(c){return b.one(c);}},node:{readOnly:true,value:null,getter:function(){return this._iframe;}},id:{writeOnce:true,getter:function(c){if(!c){c="iframe-"+b.guid();}return c;}},linkedcss:{value:"",getter:"_getLinkedCSS",setter:"_setLinkedCSS"},extracss:{value:"",setter:"_setExtraCSS"},host:{value:false},defaultblock:{value:"p"}}});b.Frame=a;},"@VERSION@",{requires:["base","node","selector-css3","substitute"],skinnable:false});