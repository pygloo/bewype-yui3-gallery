YUI.add("event-synthetic",function(b){var i=b.Env.evt.dom_map,d=b.Array,h=b.Lang,k=h.isObject,c=h.isString,e=h.isArray,f=b.Selector.query,j=function(){};function g(m,l){this.handle=m;this.emitFacade=l;}g.prototype.fire=function(r){var l=d(arguments,0,true),p=this.handle,q=p.evt,n=p.sub,s=n.context,m=n.filter,o=r||{};if(this.emitFacade){if(!r||!r.preventDefault){o=q._getFacade();if(k(r)&&!r.preventDefault){b.mix(o,r,true);l[0]=o;}else{l.unshift(o);}}o.type=q.type;o.details=l.slice();if(m){o.container=q.host;}}else{if(m&&k(r)&&r.currentTarget){l.shift();}}n.context=s||o.currentTarget||q.host;q.fire.apply(q,l);n.context=s;};function a(){this._init.apply(this,arguments);}b.mix(a,{Notifier:g,getRegistry:function(r,q,o){var p=r._node,n=b.stamp(p),m="event:"+n+q+"_synth",l=i[n]||(i[n]={});if(!l[m]&&o){l[m]={type:"_synth",fn:j,capture:false,el:p,key:m,domkey:n,notifiers:[],detachAll:function(){var s=this.notifiers,t=s.length;while(--t>=0){s[t].detach();}}};}return(l[m])?l[m].notifiers:null;},_deleteSub:function(m){if(m&&m.fn){var l=this.eventDef,n=(m.filter)?"detachDelegate":"detach";this.subscribers={};this.subCount=0;l[n](m.node,m,this.notifier,m.filter);l._unregisterSub(m);delete m.fn;delete m.node;delete m.context;}},prototype:{constructor:a,_init:function(){var l=this.publishConfig||(this.publishConfig={});this.emitFacade=("emitFacade" in l)?l.emitFacade:true;l.emitFacade=false;},processArgs:j,on:j,detach:j,delegate:j,detachDelegate:j,_on:function(o,q){var p=[],m=this.processArgs(o,q),l=o[2],s=q?"delegate":"on",n,r;n=(c(l))?f(l):d(l);if(!n.length&&c(l)){r=b.on("available",function(){b.mix(r,b[s].apply(b,o),true);},l);return r;}b.Array.each(n,function(u){var v=o.slice(),t;u=b.one(u);if(u){if(q){t=v.splice(3,1)[0];}v.splice(0,4,v[1],v[3]);if(!this.preventDups||!this.getSubs(u,o,null,true)){r=this._getNotifier(u,v,m,t);this[s](u,r.sub,r.notifier,t);p.push(r);}}},this);return(p.length===1)?p[0]:new b.EventHandle(p);},_getNotifier:function(o,r,p,n){var t=new b.CustomEvent(this.type,this.publishConfig),q=t.on.apply(t,r),s=new g(q,this.emitFacade),m=a.getRegistry(o,this.type,true),l=q.sub;q.notifier=s;l.node=o;l.filter=n;if(p){this.applyArgExtras(p,l);}b.mix(t,{eventDef:this,notifier:s,host:o,currentTarget:o,target:o,el:o._node,_delete:a._deleteSub},true);m.push(q);return q;},applyArgExtras:function(l,m){m._extra=l;},_unregisterSub:function(n){var l=a.getRegistry(n.node,this.type),m;if(l){for(m=l.length-1;m>=0;--m){if(l[m].sub===n){l.splice(m,1);break;}}}},_detach:function(n){var s=n[2],q=(c(s))?f(s):d(s),r,p,l,o,m;n.splice(2,1);for(p=0,l=q.length;p<l;++p){r=b.one(q[p]);if(r){o=this.getSubs(r,n);if(o){for(m=o.length-1;m>=0;--m){o[m].detach();}}}}},getSubs:function(m,r,l,o){var s=a.getRegistry(m,this.type),t=[],n,q,p;if(s){if(!l){l=this.subMatch;}for(n=0,q=s.length;n<q;++n){p=s[n];if(l.call(this,p.sub,r)){if(o){return p;}else{t.push(s[n]);}}}}return t.length&&t;},subMatch:function(m,l){return !l[1]||m.fn===l[1];}}},true);b.SyntheticEvent=a;b.Event.define=function(n,m,p){var o,q,l;if(m){o=(k(n))?n:b.merge({type:n},m);if(p||!b.Node.DOM_EVENTS[o.type]){q=function(){a.apply(this,arguments);};b.extend(q,a,o);l=new q();n=l.type;b.Node.DOM_EVENTS[n]=b.Env.evt.plugins[n]={eventDef:l,on:function(){return l._on(d(arguments));},delegate:function(){return l._on(d(arguments),true);},detach:function(){return l._detach(d(arguments));}};}}else{if(c(n)||e(n)){b.Array.each(d(n),function(r){b.Node.DOM_EVENTS[r]=1;});}}return l;};},"@VERSION@",{requires:["node-base","event-custom"]});