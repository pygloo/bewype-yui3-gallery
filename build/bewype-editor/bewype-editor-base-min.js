YUI.add("bewype-editor-base",function(B){var A=null;A=function(C){A.superclass.constructor.apply(this,arguments);};A.NAME="bewype-editor-base";A.ATTRS={editorClass:{value:"bewype-editor-panel",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},activeButtons:{value:["height","width","padding-top","padding-bottom","bold","italic","title","font-family","font-size","reset","apply"],writeOnce:true},spinnerLabelHeight:{value:"height",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},spinnerLabelWidth:{value:"width",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},spinnerMaxHeight:{value:480,writeOnce:true,validator:function(C){return B.Lang.isNumber(C);}},spinnerMaxWidth:{value:640,writeOnce:true,validator:function(C){return B.Lang.isNumber(C);}},spinnerLabelPaddingTop:{value:"padding-top",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},spinnerLabelPaddingRight:{value:"padding-right",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},spinnerLabelPaddingBottom:{value:"padding-bottom",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},spinnerLabelPaddingLeft:{value:"padding-left",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},fileStaticPath:{value:B.config.doc.location.href+"static/",writeOnce:true,validator:function(C){return B.Lang.isString(C);}},uploadUrl:{value:B.config.doc.location.href+"upload",writeOnce:true},panelNode:{value:null,writeOnce:true},spinnerValues:{value:{}},selectionColor:{value:"#ddd",writeOnce:true,validator:function(C){return B.Lang.isString(C);}}};B.extend(A,B.Plugin.Base,{_panel:null,_init:function(E,D){var C=this.get("panelNode");E.spinnerValues=D;C.plug(B.Bewype.EditorPanel,E);this._panel=C.bewypeEditorPanel;this._panel.registerEditor(this);},initializer:function(C){},_destroy:function(){var C=this.get("panelNode");if(this._panel&&C.bewypeEditorPanel){this._panel.unRegisterEditor(this);this.get("panelNode").unplug(B.Bewype.EditorPanel);}},destructor:function(){this._destroy();},_hasLeftBlank:function(C){if(C.length===0){return false;}else{if(C.substring(0,1).trim().length===0){return true;}}return false;},_hasRightBlank:function(C){if(C.length===0){return false;}else{if(C.substring(C.length-1,C.length).trim().length===0){return true;}}return false;},getInnerHTML:function(F,D){var E=F._node?F._node:F,C=E.innerHTML,G="";G+=this._hasLeftBlank(C)?"&nbsp;":"";G+=C.trim();G+=this._hasRightBlank(C)?"&nbsp;":"";return D?G:G.trim()===""?null:new B.Node.create(G);},removeTagOrStyle:function(D,C,E){if(D&&D._node.innerHTML){D.all(C).each(function(H,G){var I=null,F=null,J=null;if(E){I=B.Bewype.Utils.getCssDict(H);if(I[E]){delete (I[E]);if(E==="background-color"){delete (I.display);}}B.Bewype.Utils.setCssDict(H,I);J=B.Object.keys(I).length;if(J!==0){return;}}F=this.getInnerHTML(H);if(!F){H.remove();}else{H.replace(F);}},this);}},updateStyle:function(E,D){var F=this._panel.getButton(D),C=F?F.getValue():null;if(C){E.setStyle(B.Bewype.Utils.camelize(D),C);}},resetStyle:function(C){B.Object.each(["h1","h2","h3","h4","span","a","b","i","u"],function(E,D){this.removeTagOrStyle(C,E);},this);},onButtonClick:function(C,D){},onButtonChange:function(C,D){return false;},_onSpinnerChange:function(G,C,K){var J=this._panel.getButton(C),I=B.Bewype.Utils.getCssDict(G),F=I[C],D=F?parseInt(F.replace(/px/i,""),10):0,E=J?J.getValue():0,H=(C=="padding-left"||C=="padding-right")?E/2:E,M=J?this._panel.updateSpinnerMaxWidth():0,L=M[C];if(!J){return false;}if(L&&H>L){J.setValue(D);return false;}else{G.setStyle(B.Bewype.Utils.camelize(C),E+"px");return true;}},onSpinnerChange:function(D,C){return false;}});B.namespace("Bewype");B.Bewype.EditorBase=A;},"@VERSION@",{requires:["bewype-editor-panel"]});