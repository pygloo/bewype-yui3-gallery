YUI.add("bewype-editor-tag",function(B){var A=function(C){A.superclass.constructor.apply(this,arguments);};A.NAME="bewype-editor-tag";A.NS="bewypeEditorTag";A.ATTRS={};B.extend(A,B.Bewype.EditorBase,{_initSpinnerValues:function(){var F=this.get("host"),D=B.Bewype.Utils.getCssDict(F),H=null,G=B.Bewype.Utils.getHeight(F)+"px",E=B.Bewype.Utils.getWidth(F)+"px",C={};if(!B.Object.hasKey(D,"height")){D.height=G;}if(!B.Object.hasKey(D,"width")){D.width=E;}H=function(J,O){var N=J==="height",K=J==="width",M=J.split("-"),L=M.indexOf("border")!=-1,I=M.indexOf("padding")!=-1;if(N||K||L||I){C[J]=O;}return O;};B.JSON.stringify(D,B.bind(H,this));return C;},initializer:function(D){var C=this._initSpinnerValues();this._init(D,C);},onButtonClick:function(C,D){this._panel.refreshButtons(this.get("host"),false,C);},onButtonChange:function(C,H){var I=this.get("host"),D=I.get("tagName"),J=I.one("img"),K=this._panel.getButton(C),L=K?K.getValue():null,G=(C==="file")?(this.get("fileStaticPath")+L.fileName):null,E=null,F=null;switch(C){case"cancel":break;case"file":if(J){J.setAttribute("src",G);J.setStyle("height",L.imgHeight);J.setStyle("width",L.imgWidth);if(L.imgHeight>B.Bewype.Utils.getHeight(I)){I.setStyle("height",L.imgHeight);}if(L.imgWidth>B.Bewype.Utils.getWidth(I)){I.setStyle("width",L.imgWidth);}this._panel.refreshButtons(I,false,C);return true;}return false;default:break;}E=this._panel.getWorkingTagName(C,true);if(E){this.removeTagOrStyle(I,E,C);}E=this._panel.getWorkingTagName(C);if(L&&(L===true||L.trim()!=="")){if(this._panel.isCssButton(C)){I.setStyle(B.Bewype.Utils.camelize(C),L);}else{if(C==="url"){F=B.Node.create('<a href="'+L+'"></a>');}else{F=B.Node.create("<"+E+"></"+E+">");}F.append(this.getInnerHTML(I));I.setContent(F);}}else{if(C==="reset"){this.resetStyle(I);this._panel.refreshButtons(I,true);}}return true;},onSpinnerChange:function(D,C){return this._onSpinnerChange(this.get("host"),D,C);}});B.namespace("Bewype");B.Bewype.EditorTag=A;},"@VERSION@",{requires:["bewype-editor-base"]});