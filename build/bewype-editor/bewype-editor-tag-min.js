YUI.add("bewype-editor-tag",function(B){var A=function(C){A.superclass.constructor.apply(this,arguments);};A.NAME="bewype-editor-tag";A.NS="bewypeEditorTag";A.ATTRS={};B.extend(A,B.Bewype.EditorBase,{_initSpinnerValues:function(){var F=this.get("host"),D=B.Bewype.Utils.getCssDict(F),H=null,G=B.Bewype.Utils.getHeight(F)+"px",E=B.Bewype.Utils.getWidth(F)+"px",C={};if(!B.Object.hasKey(D,"height")){D.height=G;}if(!B.Object.hasKey(D,"width")){D.width=E;}H=function(J,O){var N=J==="height",K=J==="width",M=J.split("-"),L=M.indexOf("border")!=-1,I=M.indexOf("padding")!=-1;if(N||K||L||I){C[J]=O;}return O;};B.JSON.stringify(D,B.bind(H,this));return C;},initializer:function(D){var C=this._initSpinnerValues();this._init(D,C);},onButtonClick:function(C,D){this._panel.refreshButtons(this.get("host"),false,C);},onButtonChange:function(C,G){var H=this.get("host"),I=H.one("img"),J=this._panel.getButton(C),K=J?J.getValue():null,F=(C==="file")?(this.get("fileStaticPath")+K.fileName):null,D=null,E=null;switch(C){case"cancel":break;case"file":if(I){I.setAttribute("src",F);I.setStyle("height",K.imgHeight);I.setStyle("width",K.imgWidth);if(K.imgHeight>B.Bewype.Utils.getHeight(H)){H.setStyle("height",K.imgHeight);}if(K.imgWidth>B.Bewype.Utils.getWidth(H)){H.setStyle("width",K.imgWidth);}this._panel.refreshButtons(H,false,C);return true;}return false;default:break;}D=this._panel.getWorkingTagName(C,true);if(D){this.removeTagOrStyle(H,D,C);}D=this._panel.getWorkingTagName(C);if(K&&(K===true||K.trim()!=="")){if(this._panel.isCssButton(C)){H.setStyle(B.Bewype.Utils.camelize(C),K);}else{if(C==="url"){E=B.Node.create('<a href="'+K+'"></a>');}else{E=B.Node.create("<"+D+"></"+D+">");}E.append(this.getInnerHTML(H));H.setContent(E);}}else{if(C==="reset"){this.resetStyle(H);this._panel.refreshButtons(H,true);}}return true;},onSpinnerChange:function(D,C){return this._onSpinnerChange(this.get("host"),D,C);}});B.namespace("Bewype");B.Bewype.EditorTag=A;},"@VERSION@",{requires:["bewype-editor-base"]});