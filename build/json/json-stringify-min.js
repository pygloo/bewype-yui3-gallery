YUI.add("json-stringify",function(b){var j=(b.config.win||{}).JSON,J=b.Lang,n=J.isFunction,E=J.isObject,s=J.isArray,k=Object.prototype.toString,z=(k.call(j)==="[object JSON]"&&j),C=!!z,A="undefined",p="object",x="null",H="string",y="number",t="boolean",l="date",B={"undefined":A,"string":H,"[object String]":H,"number":y,"[object Number]":y,"boolean":t,"[object Boolean]":t,"[object Date]":l,"[object RegExp]":p},g="",o="{",a="}",v="[",i="]",q=",",c=",\n",m="\n",D=":",h=": ",r='"',f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function K(L){var e=typeof L;return B[e]||B[k.call(L)]||(e===p?(L?p:x):A);}function G(e){if(!d[e]){d[e]="\\u"+("0000"+(+(e.charCodeAt(0))).toString(16)).slice(-4);}return d[e];}function u(e){return r+e.replace(f,G)+r;}function w(e,L){return e.replace(/^/gm,L);}function F(L,T,e){if(L===undefined){return undefined;}var N=n(T)?T:null,S=k.call(e).match(/String|Number/)||[],U=b.JSON.dateToString,R=[],P,O,Q;if(N||!s(T)){T=undefined;}if(T){P={};for(O=0,Q=T.length;O<Q;++O){P[T[O]]=true;}T=P;}e=S[0]==="Number"?new Array(Math.min(Math.max(0,e),10)+1).join(" "):(e||g).slice(0,10);function M(X,ad){var ab=X[ad],af=K(ab),aa=[],Z=e?h:D,Y,W,ae,V,ac;if(E(ab)&&n(ab.toJSON)){ab=ab.toJSON(ad);}else{if(af===l){ab=U(ab);}}if(n(N)){ab=N.call(X,ad,ab);}if(ab!==X[ad]){af=K(ab);}switch(af){case l:case p:break;case H:return u(ab);case y:return isFinite(ab)?ab+g:x;case t:return ab+g;case x:return x;default:return undefined;}for(W=R.length-1;W>=0;--W){if(R[W]===ab){throw new Error("JSON.stringify. Cyclical reference");}}Y=s(ab);R.push(ab);if(Y){for(W=ab.length-1;W>=0;--W){aa[W]=M(ab,W)||x;}}else{ae=T||ab;W=0;for(V in ae){if(ae.hasOwnProperty(V)){ac=M(ab,V);if(ac){aa[W++]=u(V)+Z+ac;}}}}R.pop();if(e&&aa.length){return Y?v+m+w(aa.join(c),e)+m+i:o+m+w(aa.join(c),e)+m+a;}else{return Y?v+aa.join(q)+i:o+aa.join(q)+a;}}return M({"":L},"");}if(z){try{C=("0"===z.stringify(0));}catch(I){C=false;}}b.mix(b.namespace("JSON"),{useNativeStringify:C,dateToString:function(L){function e(M){return M<10?"0"+M:M;}return L.getUTCFullYear()+"-"+e(L.getUTCMonth()+1)+"-"+e(L.getUTCDate())+"T"+e(L.getUTCHours())+D+e(L.getUTCMinutes())+D+e(L.getUTCSeconds())+"Z";},stringify:function(M,e,L){return z&&b.JSON.useNativeStringify?z.stringify(M,e,L):F(M,e,L);}});},"@VERSION@");