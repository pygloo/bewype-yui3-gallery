YUI.add("bewype-color-picker",function(C){var B="",D="";B+='<div id="{pickerClass}"><table>';B+="  <tr>";B+="    <td>";B+='      <div id="{pickerClass}-selector">';B+='        <img id="{pickerClass}-selector-bg" src="{pickerDir}/picker-{pickerSize}.png" />';B+="      </div>";B+="    </td>";B+="    <td>";B+='      <div id="{pickerClass}-hue">';B+='        <img id="{pickerClass}-hue-bg" src="{pickerDir}/hue-{pickerSize}.png" />';B+="      </div>";B+="    </td>";B+="    <td>";B+='      <div id="{pickerClass}-slider" class="{sliderSkin}"></div>';B+="    </td>";B+="    <td>";B+='      <div id="{pickerClass}-preview"></div>';B+="      <p>";B+='        <div id="{pickerClass}-r" class="{pickerClass}-rgb"></div>';B+='        <div id="{pickerClass}-g" class="{pickerClass}-rgb"></div>';B+='        <div id="{pickerClass}-b" class="{pickerClass}-rgb"></div>';B+="      </p>";B+="    </td>";B+="  </tr>";B+="</table></div>";D+="<b>{rgb}</b>{value}";var A=function(E){A.superclass.constructor.apply(this,arguments);};A.NAME="colorPicker";A.NS="colorPicker";A.ATTRS={pickerClass:{value:"color-picker",writeOnce:true,validator:function(E){return C.Lang.isString(E);}},pickerSize:{value:180,writeOnce:true,validator:function(E){return C.Lang.isNumber(E);}},pickerThreshold:{value:4,writeOnce:true,validator:function(E){return C.Lang.isNumber(E);}},sliderSkin:{value:"yui3-skin-sam",writeOnce:true,validator:function(E){return C.Lang.isString(E);}}};C.extend(A,C.Widget,{_slider:null,_hexvalue:null,_size:null,_x:null,_y:null,initializer:function(E){},renderUI:function(){var J=this.get("contentBox"),K=this.get("pickerSize"),H=this.get("pickerClass"),G=(K==180)?H:H+"-small",I=(K==180)?192:102,E=null,F=null;E=new C.Node.create(C.substitute(B,{pickerClass:G,pickerDir:C.config.base+"bewype-color-picker/assets",pickerSize:K,sliderSkin:this.get("sliderSkin")}));J.append(E);F=C.one("#"+G+"-selector");C.on("mousemove",C.bind(this._onSelectorChange,this),F);this._slider=new C.Slider({axis:"y",min:-179,max:180,value:-1,length:I+"px",after:{valueChange:C.bind(this._onSliderChange,this)}});this._slider.render("#"+G+"-slider");this._onSliderChange();},bindUI:function(){},syncUI:function(){this._onSliderChange();},destructor:function(){var G=this.get("contentBox"),H=this.get("pickerSize"),F=this.get("pickerClass"),E=(H==180)?F:F+"-small";G.one("#"+E).remove();},getValue:function(){return this._hexvalue?"#"+this._hexvalue.toLowerCase():"#000000";},_getRgbInnerHtml:function(E,F){return C.substitute(D,{rgb:E,value:F});},_onSelectorChange:function(L){var K=L?L.target:null,J=this.get("pickerSize"),F=this.get("pickerThreshold"),U=this.get("pickerClass"),M=(J==180)?U:U+"-small",I=this._slider?this._slider.getValue():0,P=0,O=0,G=0,T=0,R=0,H=[],N="",S=C.one("#"+M+"-preview"),Q=C.one("#"+M+"-r"),E=C.one("#"+M+"-g"),V=C.one("#"+M+"-b");if(L){P=L.pageX-K.get("x");O=L.pageY-K.get("y");P=(J==180)?P:P*2;O=(J==180)?O:O*2;this._x=(P<=F)?0:((P>=180-F)?180:P);this._y=(O<=F)?0:((O>=180-F)?180:O);}else{this._x=90;this._y=90;}if(!L||K.get("id")===M+"-selector-bg"){G=(180-I);T=this._x/180;R=(180-this._y)/180;H=C.Bewype.Color.hsv2rgb((G==180)?0:G,T,R);this._hexvalue=C.Bewype.Color.rgb2hex(H[0],H[1],H[2]);N+="rgb(";N+=H[0]+", ";N+=H[1]+", ";N+=H[2];N+=")";S.setStyle("backgroundColor",N);Q.set("innerHTML",this._getRgbInnerHtml("R",H[0]));E.set("innerHTML",this._getRgbInnerHtml("G",H[1]));V.set("innerHTML",this._getRgbInnerHtml("B",H[2]));}},_onSliderChange:function(J){var F=this.get("pickerSize"),K=this.get("pickerClass"),I=(F==180)?K:K+"-small",M=J?J.newVal:0,H=(180-M),L=C.Bewype.Color.hsv2rgb((H==1)?0:H,1,1),E="",G=C.one("#"+I+"-selector");E+="rgb(";E+=L[0]+", ";E+=L[1]+", ";E+=L[2];E+=")";G.setStyle("backgroundColor",E);this._onSelectorChange();}});C.namespace("Bewype");C.Bewype.ColorPicker=A;},"@VERSION@",{requires:["yui-base","node","plugin","stylesheet","slider","bewype-color"]});