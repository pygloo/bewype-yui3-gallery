YUI.add("datasource-get",function(b){var a=function(){a.superclass.constructor.apply(this,arguments);};b.DataSource.Get=b.extend(a,b.DataSource.Local,{_defRequestFn:function(h){var g=this.get("source"),d=this.get("get"),c=b.guid().replace(/\-/g,"_"),f=this.get("generateRequestCallback"),i;this._last=c;YUI.Env.DataSource.callbacks[c]=b.bind(function(e){delete YUI.Env.DataSource.callbacks[c];delete b.DataSource.Local.transactions[h.tId];var j=this.get("asyncMode")!=="ignoreStaleResponses"||this._last===c;if(j){this.fire("data",b.mix({data:e},h));}else{}},this);g+=h.request+f.call(this,c);b.DataSource.Local.transactions[h.tId]=d.script(g,{autopurge:true,onFailure:b.bind(function(j,k){delete YUI.Env.DataSource.callbacks[c];delete b.DataSource.Local.transactions[j.tId];j.error=new Error(k.msg||"Script node data failure");this.fire("data",j);},this,h),onTimeout:b.bind(function(j,k){delete YUI.Env.DataSource.callbacks[c];delete b.DataSource.Local.transactions[j.tId];j.error=new Error(k.msg||"Script node data timeout");this.fire("data",j);},this,h)});return h.tId;},_generateRequest:function(c){return"&"+this.get("scriptCallbackParam")+"=YUI.Env.DataSource.callbacks."+c;}},{NAME:"dataSourceGet",ATTRS:{get:{value:b.Get,cloneDefaultValue:false},asyncMode:{value:"allowAll"},scriptCallbackParam:{value:"callback"},generateRequestCallback:{value:function(){return this._generateRequest.apply(this,arguments);}}}});YUI.namespace("Env.DataSource.callbacks");},"@VERSION@",{requires:["datasource-local","get"]});