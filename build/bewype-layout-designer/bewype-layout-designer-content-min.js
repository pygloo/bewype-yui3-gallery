YUI.add("bewype-layout-designer-content",function(b){var a=function(c){a.superclass.constructor.apply(this,arguments);};a.NAME="layout-designer-content";a.NS="layoutDesignerContent";a.ATTRS={contentHeight:{value:40,validator:function(c){return b.Lang.isNumber(c);}},contentWidth:{value:140,validator:function(c){return b.Lang.isNumber(c);}},contentZIndex:{value:1,validator:function(c){return b.Lang.isNumber(c);}},contentClass:{value:"content",writeOnce:true,validator:function(c){return b.Lang.isString(c);}},defaultContent:{value:"Click to change your content..",validator:function(c){return b.Lang.isString(c);}},defaultStyle:{value:null},parentNode:{value:null},removeCallback:{value:null},editCallback:{value:null}};b.extend(a,b.Plugin.Base,{_q:null,editing:false,initializer:function(c){var d=this.get("host"),e=this.get("parentNode");d.setStyle("height",this.get("contentHeight"));d.setStyle("width",this.get("contentWidth"));d.set("innerHTML",this.get("defaultContent"));b.on("mouseenter",b.bind(this._onMouseEnter,this),d);e.layoutDesignerPlaces.registerContent(d);this._q=new b.AsyncQueue();},destructor:function(){var e=this.get("host"),g=this.get("parentNode"),d=this.get("contentClass"),c=e.ancestor("div"),f=c.one("div."+d+"-clone");g.layoutDesignerPlaces.unRegisterContent(e);b.detach(e);if(f){b.Event.purgeElement(f,true);f.remove();}e.remove();},_onClickEdit:function(c){var d=this.get("editCallback");if(d){this.editing=true;this.hideClone();d(this.get("host"));}},_onClickRemove:function(c){var d=this.get("removeCallback");if(d){d(this.get("host"));}},hideClone:function(d){if(!d){var f=this.get("host"),e=this.get("contentClass"),c=f.ancestor("div");d=c.one("div."+e+"-clone");}if(d){b.each(d.all("div"),function(h,g){h.setStyle("visibility","hidden");});d.setStyle("visibility","hidden");}},_addCloneNode:function(c){var j=this.get("host"),e=this.get("contentClass"),h=this.get("editCallback"),d=this.get("removeCallback"),i=new b.Node.create('<div class="'+e+'-clone-callbacks" />'),f=null,k=null,g=null;f=j.cloneNode(false);f.set("innerHTML","");f.set("className",e+"-clone");c.append(f);f.setStyle("z-index",this.get("contentZIndex"));f.setStyle("position","absolute");f.setStyle("bottom",0);f.append(i);if(h){k=new b.Node.create('<div class="'+e+'-clone-edit" />');i.append(k);b.on("click",b.bind(this._onClickEdit,this),k);}if(d){g=new b.Node.create('<div class="'+e+'-clone-remove" />');i.append(g);b.on("click",b.bind(this._onClickRemove,this),g);}return f;},_onMouseEnter:function(d){if(this.editing){return;}var f=this.get("host"),h=this.get("parentNode"),e=this.get("contentClass"),c=f.ancestor("div"),g=c.one("div."+e+"-clone");h.layoutDesignerPlaces.cleanContentOver();if(g){b.each(g.all("div"),function(j,i){j.setStyle("visibility","visible");});g.setStyle("visibility","visible");}else{g=this._addCloneNode(c);}this._q.stop();this._q.add({fn:function(){},timeout:1000},{fn:this.hideClone,args:[g]});this._q.run();},_getHeight:function(d,c){c=c?c:0;return parseInt(d.getComputedStyle("height")||d.getAttribute("height"),c);},_getWidth:function(d,c){c=c?c:0;return parseInt(d.getComputedStyle("width")||d.getAttribute("width"),c);},getContentHeight:function(){var d=this.get("host"),c=b.Bewype.Utils.getHeight(d),e=b.Bewype.Utils.getStyleValue(d,"paddingTop")||0;return c+e;},getContentWidth:function(){var d=this.get("host"),e=b.Bewype.Utils.getWidth(d),c=b.Bewype.Utils.getStyleValue(d,"paddingLeft")||0;return e+c;},refresh:function(d,h){var f=this.get("host"),i=this.get("parentNode"),e=this.get("contentClass"),c=f.ancestor("div"),g=c.one("div."+e+"-clone");if(g){g.setStyle("height",this.getContentHeight());g.setStyle("width",this.getContentWidth());}i.layoutDesignerTarget.refresh();}});b.namespace("Bewype");b.Bewype.LayoutDesignerContent=a;},"@VERSION@",{requires:["async-queue","plugin","substitute"]});