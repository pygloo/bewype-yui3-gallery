YUI.add("bw-color-picker",function(D){var C="",B="";C+='<div id="{pickerClass}-panel"><table>';C+="  <tr>";C+="    <td>";C+='      <div id="{pickerClass}-selector">';C+='        <img id="{pickerClass}-selector-bg" src="{pickerDir}/picker-{pickerSize}.png" />';C+="      </div>";C+="    </td>";C+="    <td>";C+='      <div id="{pickerClass}-hue">';C+='        <img id="{pickerClass}-hue-bg" src="{pickerDir}/hue-{pickerSize}.png" />';C+="      </div>";C+="    </td>";C+="    <td>";C+='      <div id="{pickerClass}-slider" class="{pickerSkin}"></div>';C+="    </td>";C+="    <td>";C+='      <div id="{pickerClass}-preview"></div>';C+="      <p>";C+='        <div id="{pickerClass}-r" class="{pickerClass}-rgb"></div>';C+='        <div id="{pickerClass}-g" class="{pickerClass}-rgb"></div>';C+='        <div id="{pickerClass}-b" class="{pickerClass}-rgb"></div>';C+="      </p>";C+="    </td>";C+="  </tr>";C+="</table></div>";B+="<b>{rgb}</b>{value}";var A=function(E){A.superclass.constructor.apply(this,arguments);};A.NAME="colorPickerPlugin";A.NS="colorPicker";A.ATTRS={pickerClass:{value:"color-picker",writeOnce:true,validator:function(E){return D.Lang.isString(E);}},pickerSkin:{value:"yui3-skin-sam",writeOnce:true,validator:function(E){return D.Lang.isString(E);}},pickerSize:{value:180,writeOnce:true,validator:function(E){return D.Lang.isNumber(E);}},pickerThreshold:{value:4,writeOnce:true,validator:function(E){return D.Lang.isNumber(E);}}};D.extend(A,D.Widget,{_slider:null,_hexvalue:null,_size:null,_x:null,_y:null,initializer:function(E){},renderUI:function(){var J=this.get("contentBox"),K=this.get("pickerSize"),H=this.get("pickerClass"),G=(K==180)?H:H+"-small",I=(K==180)?192:102,F=null,E=D.one("#"+G+"-selector");F=new D.Node.create(D.substitute(C,{pickerClass:G,pickerSkin:this.get("pickerSkin"),pickerDir:D.config.base+"bw-color-picker/assets",pickerSize:K}));J.append(F);D.on("mousemove",D.bind(this._updatePicker,this),E);this._slider=new D.Slider({axis:"y",min:-179,max:180,value:-1,length:I+"px",after:{valueChange:D.bind(this._sliderUpdate,this)}});this._slider.render("#"+G+"-slider");this._sliderUpdate();},bindUI:function(){},syncUI:function(){this._sliderUpdate();},destructor:function(){var G=this.get("contentBox"),H=this.get("pickerSize"),F=this.get("pickerClass"),E=(H==180)?F:F+"-small";G.one("#"+E+"-panel").remove();},getValue:function(){return this._hexvalue?"#"+this._hexvalue.toLowerCase():"#000000";},_getRgbInnerHtml:function(E,F){return D.substitute(B,{rgb:E,value:F});},_updatePicker:function(L){var K=L?L.target:null,J=this.get("pickerSize"),F=this.get("pickerThreshold"),U=this.get("pickerClass"),M=(J==180)?U:U+"-small",I=this._slider?this._slider.getValue():0,P=0,O=0,G=0,T=0,R=0,H=[],N="",S=D.one("#"+M+"-preview"),Q=D.one("#"+M+"-r"),E=D.one("#"+M+"-g"),V=D.one("#"+M+"-b");if(L){P=L.pageX-K.get("x");O=L.pageY-K.get("y");P=(J==180)?P:P*2;O=(J==180)?O:O*2;this._x=(P<=F)?0:((P>=180-F)?180:P);this._y=(O<=F)?0:((O>=180-F)?180:O);}else{this._x=90;this._y=90;}if(!L||K.get("id")===M+"-selector-bg"){G=(180-I);T=this._x/180;R=(180-this._y)/180;H=D.BwColor.hsv2rgb((G==180)?0:G,T,R);this._hexvalue=D.BwColor.rgb2hex(H[0],H[1],H[2]);N+="rgb(";N+=H[0]+", ";N+=H[1]+", ";N+=H[2];N+=")";S.setStyle("backgroundColor",N);Q.set("innerHTML",this._getRgbInnerHtml("R",H[0]));E.set("innerHTML",this._getRgbInnerHtml("G",H[1]));V.set("innerHTML",this._getRgbInnerHtml("B",H[2]));}},_sliderUpdate:function(J){var F=this.get("pickerSize"),K=this.get("pickerClass"),I=(F==180)?K:K+"-small",M=J?J.newVal:0,H=(180-M),L=D.BwColor.hsv2rgb((H==1)?0:H,1,1),E="",G=D.one("#"+I+"-selector");E+="rgb(";E+=L[0]+", ";E+=L[1]+", ";E+=L[2];E+=")";G.setStyle("backgroundColor",E);this._updatePicker();}});D.namespace("Widget");D.Widget.ColorPicker=A;},"@VERSION@",{requires:["yui-base","node","plugin","stylesheet","slider","bw-color"]});